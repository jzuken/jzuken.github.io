---
title: "Towards Realistic Evaluation of Commit Message Generation by Matching Online and Offline Settings"
authors: '<i>Petr Tsvetkov, Aleksandra Eliseeva, Danny Dig, Alexander Bezzubov, Yaroslav Golubev, Timofey Bryksin, and Yaroslav Zharov</i>'
status: "published"
collection: publications
permalink: /publications/2025-05-01-cmg-evaluation
date: 2025-05-01
venue: "the proceedings of <b>ICSE'25</b>"
level: "A*"
pdf: 'https://arxiv.org/abs/2410.12046'
paperurl: 'https://doi.org/10.1109/ICSE-SEIP66354.2025.00058'
data: 'https://huggingface.co/collections/JetBrains-Research/commit-message-generation-evaluation-664a96940e5395fb52c202c5'
tool: 'https://huggingface.co/spaces/JetBrains-Research/commit-message-editing'
counter_id: 'C61'
abstract: "<p><b>Abstract</b>. Commit message generation (CMG) is a crucial task in software engineering that is challenging to evaluate correctly. When a CMG system is integrated into the IDEs and other products at JetBrains, we perform online evaluation based on user acceptance of the generated messages. However, performing online experiments with every change to a CMG system is troublesome, as each iteration affects users and requires time to collect enough statistics. On the other hand, offline evaluation, a prevalent approach in the research literature, facilitates fast experiments but employs automatic metrics that are not guaranteed to represent the preferences of real users. In this work, we describe a novel way we employed to deal with this problem at JetBrains, by leveraging an online metric - the number of edits users introduce before committing the generated messages to the VCS - to select metrics for offline experiments.</p><p>To support this new type of evaluation, we develop a novel markup collection tool mimicking the real workflow with a CMG system, collect a dataset with 57 pairs consisting of commit messages generated by GPT-4 and their counterparts edited by human experts, and design and verify a way to synthetically extend such a dataset. Then, we use the final dataset of 656 pairs to study how the widely used similarity metrics correlate with the online metric reflecting the real users' experience.</p><p>Our results indicate that edit distance exhibits the highest correlation, whereas commonly used similarity metrics such as BLEU and METEOR demonstrate low correlation. This contradicts the previous studies on similarity metrics for CMG, suggesting that user interactions with a CMG system in real-world settings differ significantly from the responses by human labelers operating within controlled research environments. We release all the code and the dataset for researchers: https://jb.gg/cmg-evaluation.</p>"
---